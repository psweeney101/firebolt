<h2>Per Diem Rates</h2>

<div class="filters">
  <mat-form-field appearance="outline">
    <mat-icon matPrefix>search</mat-icon>
    <input matInput placeholder="Search..." [(ngModel)]="search" />
  </mat-form-field>

  <mat-slide-toggle
    [(ngModel)]="showInactive"
    matTooltip="Show rates that are not active today."
  >
    Show Inactive
  </mat-slide-toggle>

  <mat-slide-toggle [(ngModel)]="compact"> Compact </mat-slide-toggle>
</div>

<mat-card class="table-wrapper">
  <table
    mat-table
    [dataSource]="dataSource"
    matSort
    matSortActive="country"
    matSortDirection="asc"
  >
    <ng-container matColumnDef="country">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Country</th>
      <td mat-cell *matCellDef="let row">{{ row.country }}</td>
    </ng-container>
    <ng-container matColumnDef="location">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Location</th>
      <td mat-cell *matCellDef="let row">{{ row.location }}</td>
    </ng-container>
    <ng-container matColumnDef="lodging">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Lodging</th>
      <td mat-cell *matCellDef="let row">{{ row.lodging | currency }}</td>
    </ng-container>
    <ng-container matColumnDef="meals_and_incidentals">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>M&IE</th>
      <td mat-cell *matCellDef="let row">
        {{ row.meals_and_incidentals | currency }}
      </td>
    </ng-container>
    <ng-container matColumnDef="per_diem">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Per Diem</th>
      <td mat-cell *matCellDef="let row">{{ row.per_diem | currency }}</td>
    </ng-container>
    <ng-container matColumnDef="season_start_date">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Start</th>
      <td mat-cell *matCellDef="let row">{{ row.season_start_date | date }}</td>
    </ng-container>
    <ng-container matColumnDef="season_end_date">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>End</th>
      <td mat-cell *matCellDef="let row">{{ row.season_end_date | date }}</td>
    </ng-container>

    <tr
      [ngClass]="compact() ? 'compact' : ''"
      mat-header-row
      *matHeaderRowDef="displayedColumns; sticky: true"
    ></tr>
    <tr
      [ngClass]="compact() ? 'compact' : ''"
      mat-row
      *matRowDef="let row; columns: displayedColumns"
    ></tr>
  </table>
  <mat-paginator
    [pageSize]="100"
    [pageSizeOptions]="[25, 50, 100, 150, 200]"
    showFirstLastButtons
  >
  </mat-paginator>
</mat-card>
